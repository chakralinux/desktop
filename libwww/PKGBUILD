#
# Games Packages for Chakra, part of chakra-project.org
#
# Maintainer: Adrián Chaves Fernández (Gallaecio) <adriyetichaves@gmail.com>

# include global config
source ../_buildscripts/${current_repo}-${_arch}-cfg.conf

pkgname=libwww
pkgver=5.4.0
pkgrel=1
pkgdesc="A general-purpose client side WEB API."
arch=('i686' 'x86_64')
url="http://www.w3.org/Library/"
license=('custom:W3C')
makedepends=('openssl perl zlib')
source=(http://www.w3.org/Library/Distribution/w3c-$pkgname-$pkgver.tgz)
md5sums=('c3734ca6caa405707e134cc8c6d7e422')

build()
{
  cd $srcdir/w3c-$pkgname-$pkgver

  #export ac_cv_header_appkit_appkit_h=no
  [ $NOEXTRACT -eq 1 ] || \
  ./configure \
    --prefix=/usr \
    --with-expat \
    --with-md5 \
    --with-regex \
    --with-ssl \
    --with-zlib

  sed -i 's#Examples##' Library/Makefile
  make
}

package()
{
  cd $srcdir/w3c-$pkgname-$pkgver
  make DESTDIR=$pkgdir install

  # License.
  install -D -m 0644 COPYRIGHT.html $pkgdir/usr/share/licenses/$pkgname/COPYRIGHT.html
}
