#
# Chakra Packages for Chakra, part of chakra-project.org
#
# maintainer (i686): Phil Miller <philm[at]chakra-project[dog]org>
# maintainer (x86_64): Manuel Tortosa <manutortosa[at]chakra-project[dot]org>

# include global config
source ../_buildscripts/${current_repo}-${_arch}-cfg.conf

pkgname=gluon
pkgver=0.70.0
pkgrel=4
pkgdesc="A high-level game development library for the KDE desktop enviornment."
arch=('i686' 'x86_64')
url="http://gluon.gamingfreedom.org/"
license=('GPL')
depends=('glew' 'kdelibs' 'libsndfile' 'openal' 'alure')
makedepends=('git' 'eigen' 'cmake' 'automoc4')
provides=('gluon')
conflicts=('gluon')
groups=("kde-uninstall" "kde-support")
source=("http://gluon.gamingfreedom.org/sites/default/files/gluon-$pkgver.tar.gz")
md5sums=('3f5b6eae22a5c4f41e574b5ef5c66a8e') # gluon-0.70.0.tar.gz
install=gluon.install


build() {
  msg "Starting make..."

  cd "$srcdir/$pkgname-$pkgname"

  cmake -DCMAKE_INSTALL_PREFIX=/usr -DBUILD_PHYSICS_COMPONENTS=ON -DBUILD_PHYSICS_ASSETS=ON "$srcdir/$pkgname-$pkgname"
  make || return 1
  make DESTDIR="$pkgdir/" install
}

