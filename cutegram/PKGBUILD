pkgname=cutegram
_pkgname=Cutegram
pkgver=2.5.0
pkgrel=2
pkgdesc="A different telegram client from Aseman team"
arch=('x86_64')
url="http://aseman.co/en/products/cutegram/"
license=('GPL')
depends=('qt5-base' 'qt5-declarative' 'qt5-multimedia' 'qt5-quick1'
'qt5-graphicaleffects' 'qt5-quickcontrols' 'qt5-webengine' 'qt5-imageformats'
'gstreamer' 'libqtelegram-ae>=5.0' 'telegramqml')
source=("https://github.com/Aseman-Land/Cutegram/archive/v$pkgver-stable.tar.gz")
sha512sums=('a86fdb467685eb01c978caed34d961b6e7d65496c063eea9066bfe3644be1b84c57c3658c3e9a414180b83352976e3ca6d1f21e0d617e3c56c617b5ceb0c014e')

prepare() {
  cd "${srcdir}/${_pkgname}-$pkgver-stable"
  mkdir -p build 
}

build() {
  cd "${srcdir}/${_pkgname}-$pkgver-stable/build"
  qmake-qt5 -r .. PREFIX=/usr DEFINES+=WEBENGINE_ASEMAN_WEBGRABBER
  make
}

package() {
  cd "${srcdir}/${_pkgname}-$pkgver-stable/build"
  make INSTALL_ROOT="${pkgdir}" install
}
