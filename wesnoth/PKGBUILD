#
# Games Packages for Chakra, part of chakra-project.org
#
# Maintainer: Adrián Chaves Fernández (Gallaecio) <adriyetichaves gmail.com>

# include global config
source ../_buildscripts/${current_repo}-${_arch}-cfg.conf

pkgname=wesnoth
pkgver=1.9.4
pkgrel=1
pkgdesc="A turn-based strategy game on a fantasy world."
arch=('i686' 'x86_64')
license=('GPL2')
url="http://www.wesnoth.org/"
depends=('boost' 'freetype2' 'fribidi' 'gcc-libs' 'libvorbis' 'lua' 'pango' 'sdl_image' 'sdl_mixer' 'sdl_net' 'sdl_ttf')
makedepends=('cmake')
source=("http://downloads.sourceforge.net/sourceforge/$pkgname/$pkgname-$pkgver.tar.bz2")
md5sums=('1dea34208d96b5cd0c7f77e6e8610e51')

build() {
  cd $srcdir/$pkgname-$pkgver
  mkdir build && cd build
  cmake -DCMAKE_INSTALL_PREFIX=/usr \
        -DCMAKE_BUILD_TYPE=RelWithDebInfo \
        ..
  make
}
 
package() {
  cd $srcdir/$pkgname-$pkgver/build
  make DESTDIR=$pkgdir install
}
