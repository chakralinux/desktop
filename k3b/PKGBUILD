#
# Apps Packages for Chakra, part of chakra-project.org
#

pkgname=k3b
pkgver=2.0.3
pkgrel=1
pkgdesc="Feature-rich and easy to handle CD burning application"
arch=("x86_64")
url="http://sourceforge.net/projects/k3b/"
license=('GPL')
depends=('kde-runtime' 'libkcddb' 'libkcompactdisc' 'libsamplerate' 'libmad'
         'ffmpeg>=0.5' 'taglib>=1.4' 'libmpcdec>=1.2.5' 'libdvdread>=4.1.3' 'cdrkit' 'shared-mime-info' 'libxft' 'libmusicbrainz3')
makedepends=('cmake' 'automoc4' 'docbook-xml')
optdepends=('dvd+rw-tools: for dvd burning support'
            'vcdimager: for vcd burning support'
            'transcode: for advanced mpeg conversion support'
            'emovix: for bootable multimedia cd/dvd support'
            'cdrdao: for disk-at-once (DAO) mode support'
            'cdparanoia: for cd ripping support')
categories=('multimedia')
install=$pkgname.install
source=("http://download.kde.org/stable/${pkgname}/${pkgname}-${pkgver}.tar.xz")
sha256sums=('871a7677653d1a86ace1e523498e47f5cca4d552f14f471f39c82adf84c38589')

prepare() {
  cd ${pkgname}-${pkgver}
}

build() {
  mkdir -p build
  cd build
  cmake ../${pkgname}-${pkgver} \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_BUILD_TYPE=Release
  make
}

package() {
  cd build
  make DESTDIR="${pkgdir}" install
}
