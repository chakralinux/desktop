#
# Apps Packages for Chakra, part of chakra-project.org
#
# contributor (x86_64): Giuseppe Cal√† <jiveaxe@gmail.com>

pkgname=qstardict
pkgver=1.0.1
pkgrel=1
pkgdesc="Qt4 clone of StarDict with full support of StarDict dictionaries."
arch=('i686' 'x86_64')
url="http://qstardict.ylsoftware.com/index.php"
license=('GPL2')
depends=('qt')
optdepends=('festival-awb-arctic: for pronouncing words, Scottish English male speaker'
            'festival-don: for pronouncing words, British English RP male speaker'
            'festival-kallpc16k: for pronouncing words, British English RP male speaker'
            'festival-rablpc16k: for pronouncing words, British English RP male speaker')
provides=('stardict')
categories=('utils')
screenshot=('http://qstardict.ylsoftware.com/images/screenshot1.png')
source=(http://qstardict.ylsoftware.com/files/${pkgname}-${pkgver}.tar.bz2
        stardict_new.diff)       
md5sums=('4e058439edad45103a9f5c74d2a381e5'
         '0d4da45440c0d34ed06f82fc4f142e07')

build() {
  cd ${srcdir}/$pkgname-$pkgver
  patch -p1 -i ${srcdir}/stardict_new.diff

  qmake ENABLED_PLUGINS="stardict web swac" 
  make 
  make INSTALL_ROOT=${pkgdir} install
}
