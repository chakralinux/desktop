#
# Apps Packages for Chakra, part of chakra-project.org
#
# Maintainer: Weng Xuetian <wengxt@gmail.com>

# include global config
source ../_buildscripts/${current_repo}-${_arch}-cfg.conf

pkgname=fcitx-keyboard
pkgver=0.1.2
pkgrel=1
pkgdesc="Keyboard Layout Integration wtih Fcitx"
arch=('i686' 'x86_64')
url="https://github.com/fcitx/fcitx-keyboard"
license=('GPL')
depends=('fcitx>=4.2.0' 'enchant' 'icu' 'libxkbfile' 'libxml2' 'xkeyboard-config')
conflicts=('fcitx-keyboard-git')
makedepends=('cmake' 'intltool')
source=(http://fcitx.googlecode.com/files/${pkgname}-${pkgver}.tar.xz)
md5sums=('bcf06486c40e4d90f7466d72b18313c2')

build(){
    cd "$srcdir/${pkgname}-${pkgver}"
    rm -rf build
    mkdir build
    cd build
    
    cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=Release ..
    make
}

package ()
{
    cd "$srcdir/${pkgname}-${pkgver}/build"
    make DESTDIR=${pkgdir} install
}
