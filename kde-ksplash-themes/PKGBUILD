#
# Chakra Packages for Chakra, part of chakra-project.org
#
# maintainer (i686): Phil Miller <philm[at]chakra-project[dog]org>
# maintainer (x86_64): Manuel Tortosa <manutortosa[at]chakra-project[dot]org>

# include global config
source ../_buildscripts/${current_repo}-${_arch}-cfg.conf



#
# package info
#
pkgname=kde-ksplash-themes
pkgver=1.0
pkgrel=1

pkgbase="kde-ksplash-themes"
pkgname=("kde-ksplash-themes-crunchy-branch-blue"
	 "kde-ksplash-themes-ashoc")

pkgdesc="KDE KSplash-Themes for Chakra"
url="http://chakra-project.org"
license="GPL"
arch=('any')
options=('!splithdr' 'splitdbg')
makedepends=('kde-wallpapers-crunchy-branch-blue')

groups=("kde" "kde-complete" "kde-uninstall" "kde-minimal")

source=("http://chakra-project.org/sources/kde-ksplash-themes/kde-ksplash-themes-crunchy-branch-blue-1.0.tar.gz"
	"http://chakra-project.org/sources/kde-ksplash-themes/kde-ksplash-themes-ashoc-1.0.tar.gz")
md5sums=("0b10bc1f2e671aa895fae88f53f3c583"  #  kde-ksplash-themes-crunchy-branch-blue-1.0.tar.gz
	 "d8ce77dd251138a9ef5a107542a086d6") #  kde-ksplash-themes-ashoc-1.0.tar.gz

#_gitroot="git://git.chakra-project.org/artwork/kde-ksplash-themes.git"
#_gitname="kde-ksplash-themes"

#
# build function
#
build() {

	echo "Let's go"
	# Smart hack here, cool :)

#        cd "${srcdir}"
#        msg "Connecting to GIT server...."

#        if [ -d $_gitname ] ; then
#        cd $_gitname && git pull
#        msg "The local files are updated."
#        else
#	      git clone $_gitroot
#        fi
#        msg "GIT checkout done or server timeout"
#        msg "Starting make..."
#
#        rm -rf "${srcdir}/$_gitname-build"

#        cp -r "${srcdir}/$_gitname" "${srcdir}/$_gitname-build"

}

#
# split-install functions
#


package_kde-ksplash-themes-crunchy-branch-blue()
{

	pkgdesc="Crunchy branch KSplash-Theme"
	groups=("kde" "kde-complete" "kde-uninstall" "kde-minimal" "kde-ksplash-themes")
	depends=('kde-wallpapers-crunchy-branch-blue')
	_THEME="crunchy-branch-blue"
	
	cd ${srcdir}/$_THEME

	msg "fix background.png"
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1024x600.jpg 1024x600/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1024x768.jpg 1024x768/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1152x864.jpg 1152x864/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1280x1024.jpg 1280x1024/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1280x800.jpg 1280x800/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1360x768.jpg 1360x768/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1400x1050.jpg 1400x1050/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1440x900.jpg 1440x900/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1600x1200.jpg 1600x1200/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1680x1050.jpg 1680x1050/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1920x1080.jpg 1920x1080/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1920x1200.jpg 1920x1200/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/800x600.jpg 800x600/background.png
	
	msg "Install theme"
	mkdir -pv $pkgdir/usr/share/apps/ksplash/Themes/$_THEME
	cp -Rv * $pkgdir/usr/share/apps/ksplash/Themes/$_THEME

}

package_kde-ksplash-themes-ashoc()
{

	pkgdesc="Ashoc KSplash-Theme"
	groups=("kde" "kde-complete" "kde-uninstall" "kde-minimal" "kde-ksplash-themes")
	depends=('kde-wallpapers-ashoc')
	_THEME="ashoc"
	
	cd ${srcdir}/$_THEME

	msg "fix background.png"
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1024x600.jpg 1024x600/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1024x768.jpg 1024x768/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1152x864.jpg 1152x864/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1280x1024.jpg 1280x1024/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1280x800.jpg 1280x800/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1360x768.jpg 1360x768/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1400x1050.jpg 1400x1050/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1440x900.jpg 1440x900/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1600x1200.jpg 1600x1200/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1680x1050.jpg 1680x1050/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1920x1080.jpg 1920x1080/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/1920x1200.jpg 1920x1200/background.png
	ln -sfv /usr/share/wallpapers/$_THEME/contents/images/800x600.jpg 800x600/background.png
	
	msg "Install theme"
	mkdir -pv $pkgdir/usr/share/apps/ksplash/Themes/$_THEME
	cp -Rv * $pkgdir/usr/share/apps/ksplash/Themes/$_THEME

}