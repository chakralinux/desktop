pkgname=kup
_pkgname=Kup
pkgver=0.7.2
pkgrel=1
pkgdesc="A KDE-based frontend for the bup backup software"
arch=('x86_64')
url="https://github.com/spersson/Kup"
license=('GPL')
depends=('qt5-base' 'plasma-framework' 'kcoreaddons' 'kdbusaddons' 'ki18n' 'kio' 'solid' 'kidletime' 
         'knotifications' 'kiconthemes' 'kconfig' 'kinit' 'bup' 'rsync' 'python2-pyxattr' 'git')
makedepends=('cmake' 'extra-cmake-modules')
source=("https://github.com/spersson/${_pkgname}/archive/${pkgname}-${pkgver}.tar.gz")
sha256sums=('b0cab16a50b2e57fee110cb9b4c54714eda305a2dfe9ed20e6bf8fed1ea606be')
 
build() {
	cd ${_pkgname}-${pkgname}-${pkgver}
	[ -d "build" ] && rm -rf build
	mkdir build
	cd build
 
	cmake ../ \
		-DCMAKE_BUILD_TYPE=Release \
		-DCMAKE_INSTALL_PREFIX=/usr
	make
}
 
package() {
	cd ${_pkgname}-${pkgname}-${pkgver}
	cd build
	make DESTDIR=${pkgdir} install
}
