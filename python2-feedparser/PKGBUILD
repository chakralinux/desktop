#
# Apps Packages for Chakra, part of chakra-project.org
#
# Maintainer: Adrian Chaves Fernandez (Gallaecio) <adriyetichaves@gmail.com>

_pkgname=feedparser
pkgname="python2-${_pkgname}"
pkgver=5.1.3
pkgrel=1
pkgdesc="feedparser is a Python library that parses feeds in all known formats, including Atom, RSS, and RDF."
arch=('any')
url="http://code.google.com/p/feedparser/"
license=('MIT')
depends=('python2' 'libxml2')
makedepends=('python-distribute')
replaces=('python-feedparser')
provides=('python-feedparser')
source=("http://${_pkgname}.googlecode.com/files/${_pkgname}-${pkgver}.tar.bz2")
md5sums=('6fb6372a1dc2f56d4d79d740b8f49f25')

build() {
  cd "${srcdir}/${_pkgname}-${pkgver}"

  # Fix permissions, or some files will be unreadable by the common users
  chmod 644 feedparser/feedparser.egg-info/*

  python2 setup.py build
}

package() {
  cd "${srcdir}/${_pkgname}-${pkgver}"
  python2 setup.py install --root="${pkgdir}"
  install -D -m644 LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
