pkgname=fcitx-qt5
pkgver=1.1.1
pkgrel=1
pkgdesc="QT5 IM Module for Fcitx"
arch=('x86_64')
url="https://github.com/fcitx/fcitx-qt5"
license=('GPL')
depends=('fcitx>=4.2.7' ''libxkbcommon'' 'qt5-base>=5.5.1')
makedepends=('cmake' 'extra-cmake-modules')
source=(https://github.com/fcitx/fcitx-qt5/archive/${pkgver}.tar.gz)
sha512sums=('57aeb4d7b2d0b502619324efb19d17f0ede431ed5aa6300f4b5213538a00d6cc57cf8858e84719c39bf0e0bb6433df3d15f61d4da6e47690b906a66b0f356221')

build() {
  cd "$srcdir/${pkgname}-${pkgver}"

  [[ -d build ]] && rm -rf build || mkdir build
  cd build

  cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_LIBDIR=lib ..
  make
}

package() {
  cd "$srcdir/${pkgname}-${pkgver}/build"
  make install DESTDIR="${pkgdir}"
}
