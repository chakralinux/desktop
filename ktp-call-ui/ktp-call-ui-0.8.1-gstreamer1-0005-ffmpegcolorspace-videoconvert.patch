From 38eddc63542d08484e83e3a0c21d163b638989bd Mon Sep 17 00:00:00 2001
From: David Edmundson <kde@davidedmundson.co.uk>
Date: Sat, 18 Jan 2014 19:10:42 +0100
Subject: [PATCH 5/8] ffmpegcolorspace -> videoconvert

Port to QtGstreamer1.0
---
 libktpcall/private/tf-video-content-handler.cpp | 2 +-
 libktpcall/private/video-sink-bin.cpp           | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/libktpcall/private/tf-video-content-handler.cpp b/libktpcall/private/tf-video-content-handler.cpp
index 25e4d10..bfae1e0 100644
--- a/libktpcall/private/tf-video-content-handler.cpp
+++ b/libktpcall/private/tf-video-content-handler.cpp
@@ -149,7 +149,7 @@ bool TfVideoContentHandler::createSrcBin(const QGst::ElementPtr & src)
 
     //ffmpegcolorspace converts to yuv for postproc_tmpnoise
     //to work if the camera cannot produce yuv
-    QGst::ElementPtr colorspace = QGst::ElementFactory::make("ffmpegcolorspace");
+    QGst::ElementPtr colorspace = QGst::ElementFactory::make("videoconvert");
 
     //capsfilter restricts the output to 320x240 @ 15fps or whatever Content.I.VideoControl says
     QString capsfilterName = QString(QLatin1String("input_capsfilter_%1")).arg(id);
diff --git a/libktpcall/private/video-sink-bin.cpp b/libktpcall/private/video-sink-bin.cpp
index 57f47b1..0b95b5c 100644
--- a/libktpcall/private/video-sink-bin.cpp
+++ b/libktpcall/private/video-sink-bin.cpp
@@ -28,7 +28,7 @@ VideoSinkBin::VideoSinkBin(const QGst::ElementPtr & videoSink)
     m_bin = QGst::Bin::create();
 
     QGst::ElementPtr queue = QGst::ElementFactory::make("queue");
-    QGst::ElementPtr colorspace = QGst::ElementFactory::make("ffmpegcolorspace");
+    QGst::ElementPtr colorspace = QGst::ElementFactory::make("videoconvert");
     QGst::ElementPtr videoscale = QGst::ElementFactory::make("videoscale");
     QGst::ElementPtr videoflip = QGst::ElementFactory::make("videoflip");
 
-- 
1.8.3.1

