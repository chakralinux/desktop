From 38f0d942f70577bfd8f330af08082a312e99b930 Mon Sep 17 00:00:00 2001
From: Diane Trout <diane@ghic.org>
Date: Wed, 15 Jan 2014 22:15:28 -0800
Subject: [PATCH 3/8] rename enable-last-buffer to enable-last-sample

---
 libktpcall/private/sink-controllers.cpp         | 2 +-
 libktpcall/private/tf-audio-content-handler.cpp | 2 +-
 libktpcall/private/tf-video-content-handler.cpp | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/libktpcall/private/sink-controllers.cpp b/libktpcall/private/sink-controllers.cpp
index d6fde88..7ed5613 100644
--- a/libktpcall/private/sink-controllers.cpp
+++ b/libktpcall/private/sink-controllers.cpp
@@ -185,7 +185,7 @@ void VideoSinkController::initFromStreamingThread(const QGst::PadPtr & srcPad,
     fakesink->setProperty("sync", false);
     fakesink->setProperty("async", false);
     fakesink->setProperty("silent", true);
-    fakesink->setProperty("enable-last-buffer", false);
+    fakesink->setProperty("enable-last-sample", false);
 
     m_bin->add(m_tee, fakesink);
     m_tee->getRequestPad("src_%u")->link(fakesink->getStaticPad("sink"));
diff --git a/libktpcall/private/tf-audio-content-handler.cpp b/libktpcall/private/tf-audio-content-handler.cpp
index 4924080..02741b1 100644
--- a/libktpcall/private/tf-audio-content-handler.cpp
+++ b/libktpcall/private/tf-audio-content-handler.cpp
@@ -133,7 +133,7 @@ void TfAudioContentHandler::refSink()
             m_sink->setProperty("sync", false);
             m_sink->setProperty("async", false);
             m_sink->setProperty("silent", true);
-            m_sink->setProperty("enable-last-buffer", false);
+            m_sink->setProperty("enable-last-sample", false);
         }
 
         if (!m_sink.dynamicCast<QGst::StreamVolume>()) {
diff --git a/libktpcall/private/tf-video-content-handler.cpp b/libktpcall/private/tf-video-content-handler.cpp
index 68afff3..fe412b4 100644
--- a/libktpcall/private/tf-video-content-handler.cpp
+++ b/libktpcall/private/tf-video-content-handler.cpp
@@ -170,7 +170,7 @@ bool TfVideoContentHandler::createSrcBin(const QGst::ElementPtr & src)
     fakesink->setProperty("sync", false);
     fakesink->setProperty("async", false);
     fakesink->setProperty("silent", true);
-    fakesink->setProperty("enable-last-buffer", false);
+    fakesink->setProperty("enable-last-sample", false);
 
     //queue to support fsconference after the tee
     QGst::ElementPtr queue = QGst::ElementFactory::make("queue");
-- 
1.8.3.1

