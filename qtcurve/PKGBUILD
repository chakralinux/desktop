#
# Apps Packages for Chakra, part of chakra-project.org
#
# maintainer abveritas@chakra-project.org
# contributor Giuseppe Cal√† <jiveaxe@gmail.com>

pkgname=qtcurve
pkgver=1.8.14
pkgrel=1
arch=('x86_64')
license=('GPL')
pkgdesc='A configurable set of widget styles for KDE'
url='http://www.kde-look.org/content/show.php?content=40492'
depends=('kde-workspace')
makedepends=('cmake' 'automoc4')
categories=('system')
source=("http://craigd.wikispaces.com/file/view/QtCurve-KDE4-${pkgver}.tar.bz2"
        'fix-kwin_decoration-macro.patch')
md5sums=('b4d7924806058f39e842ce7ffe47a4f8'
         '7366e45ef9f24f53a36f87a539a937d6')

build() {
  cd "${srcdir}/QtCurve-KDE4-${pkgver}"
  patch -p1 -i "${srcdir}/fix-kwin_decoration-macro.patch"

  cd "${srcdir}"
  mkdir build
  cd build
  cmake ../QtCurve-KDE4-${pkgver} \
	-DCMAKE_BUILD_TYPE=Release \
	-DCMAKE_INSTALL_PREFIX=/usr \
	-DQTC_KWIN=true \
        -DQTC_STYLE_SUPPORT=true 
  make
}

package() {
  cd "${srcdir}/build"
  make DESTDIR="${pkgdir}" install
}

