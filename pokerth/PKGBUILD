#
# Games Packages for Chakra, part of chakra-project.org
#
# Maintainer: Daniele Cocca <daniele.cocca@gmail.com>

# include global config
source ../_buildscripts/${current_repo}-${_arch}-cfg.conf

pkgname=pokerth
_pkgname=PokerTH
pkgver=0.8.2
pkgrel=1
pkgdesc="PokerTH is a Texas Holdem poker game written in C++/Qt."
arch=('i686' 'x86_64')
license=('GPL' 'custom')
depends=('qt>=4.4.3' 'zlib>=1.2.3' 'curl>=7.1.6' 'gnutls>=2.2.2' 'libgsasl' 'boost>=1.36' 'sdl' 'sdl_mixer')
url="http://www.pokerth.net/"
source=("http://downloads.sourceforge.net/sourceforge/${pkgname}/${_pkgname}-${pkgver}-src.tar.bz2")
md5sums=('bc9af0733d32c16e23fb9975e9aba100')

build() {
  cd "${srcdir}/${_pkgname}-${pkgver}-src"
  qmake pokerth.pro || return 1
  make || return 1
}

package() {
  cd "${srcdir}/${_pkgname}-${pkgver}-src"
  make INSTALL_ROOT="${pkgdir}" install || return 1

  install -D -m755 pokerth "${pkgdir}/usr/bin/pokerth" || return 1
  install -D -m644 docs/pokerth.1 "${pkgdir}/usr/share/man/man1/pokerth.1" || return 1
}
