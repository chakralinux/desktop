#
# Apps Packages for Chakra, part of chakra-project.org
#
# maintainer: george <rpubaddr0 {at} gmail [dot] com>
# contributor: Jesse Jaara <mail.ru,gmail.com: jesse.jaara>

pkgname=python2-v4l2capture
_pkgname=v4l2capture
pkgver=1.3
pkgrel=1
pkgdesc='Python extension to capture video with video4linux2.'
arch=('i686' 'x86_64')
url='http://fredrik.jemla.eu/v4l2capture'
license=('custom:public domain')
depends=('python2' 'v4l-utils')
source=("http://fredrik.jemla.eu/${_pkgname}-${pkgver}.tar.gz"
        'YUV420_out_1.4.patch'
        'LICENSE')
md5sums=('daaa2e0634df556e284f4197a7a84430'
         'c7f6785837e996e4c9a11f9d7a83cfb7'
         '252a63bed3400faf9bcfbb3ed186aec0')

build() {
  cd "${srcdir}/${_pkgname}-${pkgver}"
  patch -p0 -i ../YUV420_out_1.4.patch
}

package() {
  cd "${srcdir}/${_pkgname}-${pkgver}"
  python2 setup.py install --root="${pkgdir}/" --optimize=1
  install -Dm644 "${srcdir}/LICENSE" "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
