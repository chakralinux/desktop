pkgname=('kdeplasma-applets-networkmanagement')       
arch=('x86_64')
pkgver=0.9.0.12
pkgrel=1
pkgdesc="KDE SC networkmanager plasmoid"
url="http://plasma.kde.org"
license=('GPL')
depends=('kde-workspace' 'networkmanager>=0.9')
makedepends=('cmake' 'python2' 'automoc4' 'mobile-broadband-provider-info'
             'openconnect')
optdepends=('mobile-broadband-provider-info: Database of mobile broadband service providers'
            'openconnect: Cisco AnyConnect compatible VPN client')
install=${pkgname}.install
conflicts=('kdeplasma-applets-plasma-nm')
source=("http://download.kde.org/unstable/networkmanagement/${pkgver}/src/networkmanagement-${pkgver}.tar.xz")
md5sums=('3a2b0b8f3545727cf0ded82e82a936b8')

build() {
  cd "${srcdir}"
  mkdir build
  cd build
  cmake ../networkmanagement-${pkgver} \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_BUILD_TYPE=Release
  make
}

package() {
  cd "${srcdir}"/build
  make DESTDIR="${pkgdir}" install
}
