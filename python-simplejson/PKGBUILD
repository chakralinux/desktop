# Maintainer: Manuel "UtG" <utg[dot]chakra.linux[at]gmail[dot]com>
# Contributor: Giuseppe Cal√† <jiveaxe@gmail.com>

pkgbase=python-simplejson
pkgname=('python2-simplejson' 'python3-simplejson')
pkgver=3.4.0
pkgrel=1
pkgdesc="Simple, fast, extensible JSON encoder/decoder for Python"
license=('MIT')
arch=('x86_64')
url='http://undefined.org/python/#simplejson'
makedepends=('python2-setuptools' 'python3-setuptools')
#source=(http://pypi.python.org/packages/source/s/$_pkgname/$_pkgname-${pkgver}.tar.gz)
source=("$pkgname-$pkgver.tar.gz::https://github.com/simplejson/simplejson/tarball/v${pkgver}")
sha256sums=('636c7a43f4b42e71b7e0bd07232621804d6b43e2b4b3f4c942bd620f001c1a8a')

package_python2-simplejson() {
  depends=('python2')
  replaces=(python-simplejson)
  provides=(python-simplejson)
  
  cd "simplejson-simplejson-"*
  python2 setup.py install --root=${pkgdir}

  # License
  install -Dm644 "$srcdir/simplejson-simplejson"-*/LICENSE.txt \
    "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}

package_python3-simplejson() {
  depends=('python3')

  cd "simplejson-simplejson-"*
  python3 setup.py install --root="$pkgdir"
  
  # License
  install -Dm644 "$srcdir/simplejson-simplejson"-*/LICENSE.txt \
    "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}