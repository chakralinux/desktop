#
# Apps Packages for Chakra, part of chakra-project.org
#
# maintainer (i686): Phil Miller <philm[at]chakra-project[dog]org>
# maintainer (x86_64): Manuel Tortosa <manutortosa[at]chakra-project[dot]org>

pkgname=kcm-ufw
pkgver=0.2.0
pkgrel=1
pkgdesc="UFW KControl Module"
arch=('i686' 'x86_64')
url="http://kde-apps.org/content/show.php/UFW+KControl+Module?content=137789"
license=('GPL')
depends=('ufw' 'kdebase-workspace' 'python2' 'openssl' 'polkit-kde-agent')
makedepends=('automoc4' 'cmake' 'docbook-xsl')
source=(http://kde-apps.org/CONTENT/content-files/137789-kcm_ufw-$pkgver.tar.bz2)
md5sums=('d81aa6f5363dc528b146fac17fbabccd')

build() {

  cd "${srcdir}/kcm_ufw-${pkgver}/"

  if [ -d build ] ; then
    true
  else
    mkdir build
  fi

  cd build

  cmake  -DCMAKE_INSTALL_PREFIX=/usr ..

  make
}

package() {
  cd "${srcdir}/kcm_ufw-${pkgver}/build"
  make DESTDIR="${pkgdir}" install || return 1
}
