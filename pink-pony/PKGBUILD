#
# Games Packages for Chakra, part of chakra-project.org
#
# Maintainer: Adrián Chaves Fernández (Gallaecio) <adriyetichaves gmail.com>

pkgname=pink-pony
pkgver=1.3
pkgrel=2
pkgdesc="Tron-like multiplayer racing game with ponies."
arch=(i686 x86_64)
url="http://code.google.com/p/pink-pony/"
license=('GPL3')
depends=('glfw' 'ilmbase' 'devil' 'libxrandr' 'protobuf' 'audiere' 'ftgl' 'libsigc++2.0')
makedepends=('scons')
categories=('games')
source=(http://pink-pony.googlecode.com/files/$pkgname-$pkgver.tar.bz2)
md5sums=('c87cb63df13bbc1c3753fd6438b84b34')

build() {
  cd $srcdir/$pkgname-$pkgver

  scons
}

package() {
  cd $srcdir/$pkgname-$pkgver

  mkdir -p $pkgdir/usr/share/$pkgname
  mkdir -p $pkgdir/usr/bin

  cp -R README GLSL fonts levels models music textures pony.options levels.xml Pony $pkgdir/usr/share/$pkgname
  install -D -m 755 Pony $pkgdir/usr/lib/Pony
  install -D -m 644 pony.options $pkgdir/etc/pony.options
  install -D -m 755 install/pink-pony $pkgdir/usr/bin/pink-pony
  install -D -m 644 install/pink-pony.png $pkgdir/usr/share/pixmaps/pink-pony.png
  install -D -m 644 install/pink-pony.desktop $pkgdir/usr/share/applications/pink-pony.desktop
}
