#
# Games Packages for Chakra, part of chakra-project.org
#
# Maintainer: Adrián Chaves Fernández (Gallaecio) <adriyetichaves gmail.com>

pkgname=pink-pony
pkgver=1.3.1
pkgrel=1
pkgdesc="Tron-like multiplayer racing game with ponies."
arch=(i686 x86_64)
url="http://code.google.com/p/pink-pony/"
license=('GPL3')
depends=('glfw' 'ilmbase' 'devil' 'libxrandr' 'protobuf' 'audiere' 'ftgl' 'libsigc++2.0')
makedepends=('scons')
categories=('games')
source=(http://pink-pony.googlecode.com/files/$pkgname-$pkgver.tar.bz2)
md5sums=('340dc3052ad53d887c20532a6bae8235')

build() {
  cd $srcdir/$pkgname-$pkgver

  scons
}

package() {
  cd $srcdir/$pkgname-$pkgver

  mkdir -p $pkgdir/usr/share/$pkgname/resources
  cp -R resources/* $pkgdir/usr/share/$pkgname/resources

  install -Dm 755 install/pink-pony $pkgdir/usr/bin/pink-pony
  install -Dm 755 Pony $pkgdir/usr/lib/Pony
  install -Dm 644 pony.options $pkgdir/etc/pony.options

  install -Dm 644 install/pink-pony.png $pkgdir/usr/share/pixmaps/pink-pony.png
  install -Dm 644 install/pink-pony.desktop $pkgdir/usr/share/applications/pink-pony.desktop
}
