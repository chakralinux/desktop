# Maintainer: Francesco Marinucci <franzmari[at]chakra-project[dot]it>

pkgname=kdeplasma-applets-plasma-nm
_pkgname=plasma-nm
pkgver=0.9.3.4
pkgrel=1
pkgdesc='Plasma applet written in QML for managing network connections'
arch=('x86_64')
url='https://projects.kde.org/projects/playground/network/plasma-nm'
license=('GPL2')
depends=('kde-workspace'
         'libnm-qt>=0.9.8.2'
         'openconnect')
makedepends=('cmake'
             'automoc4')
conflicts=('kdeplasma-applets-plasma-nm-git'
           'kdeplasma-applets-networkmanagement')
screenshot="http://grulja.files.wordpress.com/2013/06/nm1.png?w=268&h=300"
source="http://download.kde.org/stable/${_pkgname}/${_pkgname}-${pkgver}.tar.xz"
sha512sums=('40563d94dffda8e74c6df68fcbd5cdb85391a1ab2f49e8b21a015509f3a92ac69e45f99987eb899aeb62a41f3b9c985d4722ef0c2c99a1805da45e02d548fef9')
 
build() {
  cd $srcdir/${_pkgname}-${pkgver}
  mkdir build
  cd build
  cmake .. \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_BUILD_TYPE=Release
  make
}
 
package() {
  cd $srcdir/${_pkgname}-${pkgver}
  cd build
  make DESTDIR="${pkgdir}" install
} 
