# Maintainer: Adrián Chaves Fernández (Gallaecio) <adriyetichaves gmail.com>
# Contributor: Neo Kolokotronis <tetris4@gmail.com>

pkgname=python2-beaker
_pkgname=Beaker
pkgver=1.6.4
pkgrel=1
arch=('x86_64')
license=('BSD')
pkgdesc="Caching and sessions WSGI middleware for use with web applications and stand-alone Python scripts and applications."
url="http://beaker.groovie.org/"
depends=('python2')
makedepends=('python2-setuptools')
provides=('python-beaker')
conflicts=('python-beaker')
replaces=('python-beaker')
source=("http://cheeseshop.python.org/packages/source/B/$_pkgname/$_pkgname-$pkgver.tar.gz")
md5sums=('c2e102870ed4c53104dec48ceadf8e9d')

package() {
  cd $srcdir/$_pkgname-$pkgver

  # Python 2 fix.
  sed -i "s#/usr/bin/python#/usr/bin/python2#" beaker/crypto/pbkdf2.py

  # Installation.
  python2 setup.py install --root=$pkgdir --optimize=1

  # License.
  install -D -m644 LICENSE $pkgdir/usr/share/licenses/$pkgname/license.txt
}
