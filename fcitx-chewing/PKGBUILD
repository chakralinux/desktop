#
# Apps Packages for Chakra, part of chakra-project.org
#
# Maintainer: Weng Xuetian <wengxt@gmail.com>

# include global config
source ../_buildscripts/${current_repo}-${_arch}-cfg.conf

pkgname=fcitx-chewing
pkgver=0.1.3
pkgrel=2
pkgdesc="Fcitx Wrapper for chewing."
arch=('i686' 'x86_64')
url="http://code.google.com/p/fcitx"
license=('GPL')
depends=('fcitx>=4.2.0' 'libchewing')
makedepends=('cmake' 'intltool')
source=(http://fcitx.googlecode.com/files/${pkgname}-${pkgver}.tar.xz candidate.patch)
md5sums=('052e3f146b6e2805918c008005fc9591'
         'c1038414e59376bfbbfd63824a93dc7a')

build(){
    cd "$srcdir/${pkgname}-${pkgver}"
    patch -i "${srcdir}/candidate.patch" -Np1 || return 1
    rm -rf build
    mkdir build
    cd build
    
    cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=Release ..
    make
}

package ()
{
    cd "$srcdir/${pkgname}-${pkgver}/build"
    make DESTDIR=${pkgdir} install
}
