pkgname=zint
pkgver=2.5
pkgrel=1
pkgdesc="A barcode encoding library supporting over 50 symbologies."
url="http://sourceforge.net/projects/zint/"
license=('GPLv3')
arch=('x86_64')
depends=('qt' 'zlib')
makedepends=('cmake')
install=${pkgname}.install
source=("http://sourceforge.net/projects/${pkgname}/files/${pkgname}/${pkgver}/${pkgname}-${pkgver}.src.tar.gz"
        "zint.png")
sha512sums=('c3e4bb84de868de272ed097164f9620a83ecb9fdfcab50cbac4b705ecb9509d499613a5d865a1a0459b90d9b3feb6e836fbb72c4c932fb7f8f36f0980970d6bb'
            '6e9abd85465e41374a7ca35965a3a30447147c7f35cf0ffb7e310fad9c83564c79508612ac115fd467aab9bb9cf166c222a8c4c05f91fecfa42b6a3ced32e75a')
 
build() {
  cd "${pkgname}-${pkgver}"
 
  if [[ -e build ]]; then rm -rf build; fi
  mkdir build && cd build
 
  cmake -DCMAKE_INSTALL_PREFIX=/usr ..
  make
}
 
package() {
  cd "${pkgname}-${pkgver}/build"
 
  make DESTDIR="${pkgdir}" install
 
  # Install additional files
  cd ..
  install -Dm644 zint-qt.desktop "${pkgdir}/usr/share/applications/zint-qt.desktop"
  install -Dm644 zint.png "${pkgdir}/usr/share/pixmaps/zint.png"
}
