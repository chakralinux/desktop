#
# Apps Packages for Chakra, part of chakraos.org
#
# Maintainer: Neophytos Kolokotronis <tetris4@gmail.com>

pkgname=musescore
pkgver=2.0.0
pkgrel=1
pkgdesc="A music score editor written in Qt"
arch=('x86_64')
url="http://www.musescore.org/en/"
license=('GPL')
depends=('libpulse' 'portaudio' 'qt5-quick1' 'qt5-svg' 'qt5-tools')
makedepends=('cmake' 'doxygen' 'lame' 'qt5-script' 'texlive-core')
optdepends=('lame: MP3 export')
categories=('multimedia')
install=musescore.install
source=("musescore-${pkgver}.tar.gz::https://github.com/musescore/MuseScore/archive/v${pkgver}.tar.gz"
        'musescore.conf')
sha256sums=('1c88d64f0b020b1eec9fd4d181353da07948cc08c6e2a35c5ea97c8e6ffa8ea8'
            '397b5431137d468a64b768670efdf385c27cb7298ee9295a32323a2610427928')

build() {
  cd MuseScore-${pkgver}

  make PREFIX='/usr' release
}

package() {
  cd MuseScore-${pkgver}/build.release

  make DESTDIR="${pkgdir}" install
  install -m 644 ../assets/musescore-icon-round-512.png "${pkgdir}"/usr/share/pixmaps/mscore.png
}
