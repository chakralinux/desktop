#
# Apps Packages for Chakra, part of chakra-project.org
#
# Maintainer: Adrián Chaves Fernández (Gallaecio) <adriyetichaves@gmail.com>

pkgname=cirkuit
pkgver=0.4
pkgrel=1
pkgdesc='An application for drawing high-quality line diagrams to include in TeX, LaTeX, or similar documents.'
url="http://wwwu.uni-klu.ac.at/magostin/cirkuit.html"
license=('GPL3')
arch=('i686' 'x86_64')
depends=('ghostscript' 'm4' 'netpbm' 'pdf2svg' 'poppler-qt' 'qt' 'texlive-bin' 'texlive-core' 'texlive-pstricks')
makedepends=('automoc4' 'cmake' 'kdelibs')
optdepends=('dpic: improved circuit macros support.'
	    'gnuplot-luaterm: Gnuplot backend.')
source=(http://wwwu.uni-klu.ac.at/magostin/src/$pkgname-$pkgver.tar.gz)
md5sums=('2392cd851eb8dabbc37012b0b265ae2e')

build() {
  cd $srcdir/$pkgname-$pkgver
  [[ -d build ]] && rm -r build
  mkdir build && cd build
  cmake \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_BUILD_TYPE=RelWithDebInfo \
    ..
  make
}
 
package() {
  cd $srcdir/$pkgname-$pkgver/build
  make DESTDIR=$pkgdir install
}