pkgname=qgit
pkgver=2.6
pkgrel=1
pkgdesc="A GIT GUI viewer built on Qt/C++"
url='http://libre.tibirna.org/projects/qgit/wiki/QGit'
arch=('x86_64')
license=('GPL')
depends=('qt5-base' 'git')
categories=('programming')
options=(!makeflags !ccache) #makepkg3 options, ccache is a no-go
source=("http://libre.tibirna.org/attachments/download/12/${pkgname}-${pkgver}.tar.gz"
        'qgit.desktop' 'qgit.svg')
    
sha1sums=('9b28bfe2f6537bc73c251b950b7467b4e8fe32ed'
          'd68018b9ca110da0fb01da173fe8060a8304ad29'
          'c78498e2fa48fdcebda6263af4819c391c1a5442')

build() {
  cd "${srcdir}/redivivus-"*
  qmake-qt5 qgit.pro
  make || return 1
}

package() {
  cd "${srcdir}/redivivus-"*
  install -Dm755 bin/qgit ${pkgdir}/usr/bin/qgit || return 1
  install -Dm644 ${srcdir}/qgit.desktop ${pkgdir}/usr/share/applications/qgit.desktop || return 1
  install -Dm644 ${srcdir}/qgit.svg ${pkgdir}/usr/share/pixmaps/qgit.svg || return 1
}
