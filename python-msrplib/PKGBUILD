#
# Apps Packages for Chakra, part of chakra-project.org
#
# Maintainer: Daniele Cocca <jmc@chakra-project.org>
#

# include global config
source ../_buildscripts/${current_repo}-${_arch}-cfg.conf

pkgname=python-msrplib
pkgver=20110704
pkgrel=1
pkgdesc="Client library for MSRP protocol and its relay extension (RFC 4975 and RFC4976)."
arch=('any')
url="http://msrprelay.org"
license=('LGPL')
depends=('python2')
makedepends=('darcs')

_darcstrunk="http://devel.ag-projects.com/repositories"
_darcsmod="python-msrplib"

build() {
  msg "Starting Darcs pull..."
  cd "${srcdir}"
  if [ -d "${_darcsmod}/_darcs" ]; then
    (cd "${_darcsmod}" && darcs pull -a)
  else
    darcs get "${_darcstrunk}/${_darcsmod}" "${_darcsmod}"
  fi
  msg "Darcs pull done (or server timeout)."
}

package() {
  cd "${srcdir}/${_darcsmod}"
  python2 setup.py install --prefix=/usr --root="${pkgdir}"
}

# vim:set ts=2 sw=2 et:
