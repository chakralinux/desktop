# Maintainer: 	 UtG  <utg[dot]chakra.linux[at]gmail[dot]com>
# Contributor: 	 GONG Chen <chen dot sst at gmail dot com>
# Contributor: 	 網軍總司令

pkgname=librime
_basever=1.2.9
pkgver=1.2.9.cbe2ffc
pkgrel=1
pkgdesc="Rime input method engine"
arch=('x86_64')
url="http://code.google.com/p/rimeime/"
license=('GPL3')
depends=('boost-libs' 'google-glog' 'kyotocabinet' 'opencc' 'yaml-cpp>=0.5.0' 'marisa')
optdepends=('brise: Rime schema repository')
makedepends=('cmake' 'boost' 'git')
source=("git+https://github.com/rime/librime.git#commit=cbe2ffcbbde147a741b1d03f4f5b4e408f6ccdb8")
sha512sums=('SKIP')

pkgver() {
  cd "$pkgname"
  printf "%s.%s" "${_basever}" "$(git rev-parse --short HEAD)"
}

build() {
  cd $pkgname
  make
}

package() {
  cd $pkgname
  make DESTDIR="$pkgdir" install
}
