#
# Games Packages for Chakra, part of chakra-project.org
#
# Maintainer: Adrián Chaves Fernández (Gallaecio) <adriyetichaves@gmail.com>

pkgname=flightgear
_pkgname=FlightGear
pkgver=2.6.0
pkgrel=1
pkgdesc="An open-source, multi-platform flight simulator."
arch=(i686 x86_64)
depends=('flightgear-data' 'libxmu' 'libxi' 'openal' 'openscenegraph' 'zlib' 'simgear' 'subversion')
makedepends=('boost' 'cmake')
license=(GPL3)
url="http://www.flightgear.org"
categories=('games')
source=(http://ftp.icm.edu.pl/packages/$pkgname/Source/$pkgname-$pkgver.tar.bz2)
sha256sums=('1554efbe20ad5002ad169225605ae95fca46d381bdff03dd624d92cf24b1a40f')

build() {
  cd $srcdir/$pkgname-$pkgver
  cd $srcdir/flightgear-$pkgver
  cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_INSTALL_LIBDIR=lib .
  make
}

package() {
  cd $srcdir/$pkgname-$pkgver
  make DESTDIR=$pkgdir install

  # Execution script.
  echo "#!/bin/bash"	 > $pkgdir/usr/bin/$pkgname
  echo "fgfs \$@"	>> $pkgdir/usr/bin/$pkgname
  chmod +x $pkgdir/usr/bin/$pkgname
}
